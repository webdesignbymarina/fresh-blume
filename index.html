<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ· Fresh BlÃ¼me Cleaning Service</title>
    <link rel="stylesheet" href="index.css">
</head>
<body id="back-top">
    <header class="header-wrapper">        
        <div class="header-content">
            <div class="logo">
                <img src="fresh_blume_logo.png" alt="Fresh BlÃ¼me Cleaning Service Logo">
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="index.html" class="active">Services Offered</a></li>
                    <li><a href="booking.html">Booking</a></li>                    
                    <li class="dropdown"><a href="#">Photos â–¾</a>
                        <ul class="dropdown-content">
                            <li><a href="kitchen.html">Kitchen</a></li>
                            <li><a href="bathroom.html">Bathroom</a></li>
                            <li><a href="bedroom.html">Bedroom</a></li>
                        </ul>
                    </li>                       
                        <li><a href="about.html">About</a></li>                        
                </ul>
            </nav>   
        </div>     
    </header>
    <main>
        <div>            
            <h1>All services start at $50/hr - Additional $5/hr per animal living in space</h1>
        </div>
        <div class="services-wrapper">            
            <div class="spacer">
                <h2>ğŸŒ· Deep Clean (3 hour minimum)</h2>
                    <ul class="my-bullet main-text">
                        <li>â€¢ <span class="bold">Required</span> for all future routine clients</li>
                        <li>â€¢ Deep cleans are for tackling hard to reach areas and establishing a foundation 
                            for easier maintenance, including but not limited to:</li>
                        <ul class="my-bullet">
                            <li>âœ“ Under/behind couches</li>
                            <li>âœ“ Baseboards</li>
                            <li>âœ“ Cabinets</li>
                            <li>âœ“ Shelves</li>
                            <li>âœ“ Light fixtures</li>
                            <li>âœ“ Interior doors</li>
                            <li>âœ“ Blinds</li>
                            <li>âœ“ Ceiling cobwebs</li>
                        </ul>
                        <li class="my-bullet">â€¢ Deep Cleans entail all of our services <span class="bold-italic">excluding </span>the list of add-on
                        <a href="#add-on" class="tooltip-link">
                        options
                        <span class="tooltip-box">
                        Spot treat carpet - $50<br>
                        Polish tiles and/or hardwood floors - $25<br>
                        Steam Cleaning - $50<br>
                        Inside Appliances - $75-$200<br>
                        Tidying up messes - $25
                        </span>
                        </a></li>
                    </ul>
            </div>
            <div class="spacer">
            <h2>ğŸŒ· Routine Clean (1Â½ hour minimum) - Weekly, Bi-weekly & Monthly</h2>
                <p class="indent main-text">To get booked for a routine cleaning, you <span class="bold">must</span> first book a deep clean.</p>
            <div class="spacer">
            <h2>ğŸŒ· One Time/Customized Cleaning (Estimate required)</h2>
                <p class="indent main-text">You can pick and choose what services you want to fit your specific needs.</p>
                <p class="indent main-text">This option is for:</p>
                    <ul class="my-bullet indent main-text">
                        <li>â€¢ Move-in/out</li>
                        <li>â€¢ Party clean up</li>
                        <li>â€¢ Irregular routines</li>
                        <li>â€¢ Gifting services</li>
                </ul>
        </div>
        <div class="spacer">            
            <h2>ğŸŒ· What to expect from a Fresh Blume Appointment:</h2>
            <ul class="my-bullet main-text">
                <li>âœ“ Dusted surfaces, furniture and displays</li>
                <li>âœ“ Clean baseboards and windowsills</li>
                <li>âœ“ Dust-free ceiling fans</li>
                <li>âœ“ Sanitized commonly touched areas (light switches, door knobs, & stair rails)</li>
                <li>âœ“ Spot-cleaned doors and walls</li>
                <li>âœ“ Trash/recycling taken out</li>
                <li>âœ“ Cushion and throw tidied</li>
                <li>âœ“ Clean/sanitized bathrooms</li>
                <li>âœ“ Clean and streak-free mirrors</li>
                <li>âœ“ Clean kitchen countertops and sinks</li>
                <li>âœ“ Spot-cleaned kitchen cabinets</li>
                <li>âœ“ Clean stove top</li>
                <li>âœ“ Polished and streak-free kitchen appliances</li>
                <li>âœ“ Spotless microwave</li>
                <li>âœ“ Vacuumed/swept floors</li>
                <li>âœ“ Mopped floors</li>
            </ul>
        </div>
    </div>
    <div class="spacer">            
        <h2 id="add-on">ğŸŒ· Add-on List:</h2>
        <ul class="my-bullet main-text">
                <li>+ Spot treat carpet - $50</li>
                <li>+ Polish tiles and/or hardwood floors - $25</li>
                <li>+ Steam Cleaning - $50</li>
                <li>+ Inside Appliances - $75-$200</li>
                <li>+ Tidying up messes - $25</li>
            </ul>
        </div>
        <div class="spacer">            
            <h2>ğŸŒ· Services we <span class="services-no-offer">do not</span> offer at Fresh Blume:</h2>
            <ul class="no-bullet main-text">
                <li>âŒ Dishes</li>
                <li>âŒ Replacing linens</li>
                <li>âŒ Pet/human bio hazards</li>
            </ul>
        </div>
    </div>
    </main>
    <footer>
       <div><a href="#back-top" class="jump-top">BACK TO TOP</a></div> 
    </footer>
    <!-- Book Now Popup -->
<div id="book-popup" class="popup-overlay" aria-hidden="true">
  <div class="popup-card" role="dialog" aria-modal="true" aria-labelledby="popup-title">
    <button class="popup-close" aria-label="Close popup">&times;</button>

    <h2 id="popup-title">Ready to book?</h2>
    <p>Click below to book your Fresh BlÃ¼me appointment.</p>

    <a id="popup-book-now" class="popup-button" href="booking.html">Book Now</a>
  </div>
</div>

<script>
  // ===== Don't run on booking page =====
  if (!window.location.pathname.includes("booking.html")) {

    const popup = document.getElementById("book-popup");
    const closeBtn = popup.querySelector(".popup-close");
    const bookNowBtn = document.getElementById("popup-book-now");

    const STEP_MS = 180000; // 3 minutes

    // sessionStorage keys
    const KEY_TOTAL = "fb_total_ms";          // accumulated time across pages
    const KEY_TARGET = "fb_next_target_ms";   // next time threshold to show popup
    const KEY_COUNT = "fb_popup_count";       // times shown (max 2)
    const KEY_DISABLED = "fb_popup_disabled"; // set true if Book Now clicked

    const getNum = (k, fallback = 0) => Number(sessionStorage.getItem(k)) || fallback;
    const setNum = (k, v) => sessionStorage.setItem(k, String(v));

    // If already disabled (Book Now clicked earlier), stop
    if (sessionStorage.getItem(KEY_DISABLED) !== "true") {

      // Initialize if missing
      if (!sessionStorage.getItem(KEY_TOTAL)) setNum(KEY_TOTAL, 0);
      if (!sessionStorage.getItem(KEY_TARGET)) setNum(KEY_TARGET, STEP_MS);
      if (!sessionStorage.getItem(KEY_COUNT)) setNum(KEY_COUNT, 0);

      const pageStart = Date.now();

      function currentTotalMs() {
        const totalBefore = getNum(KEY_TOTAL, 0);
        const onThisPage = Date.now() - pageStart;
        return totalBefore + onThisPage;
      }

      let intervalId = null;

      function openPopup() {
        popup.style.display = "block";
        popup.setAttribute("aria-hidden", "false");

        const count = getNum(KEY_COUNT, 0) + 1;
        setNum(KEY_COUNT, count);

        // Stop checking after 2nd show
        if (count >= 2 && intervalId) {
          clearInterval(intervalId);
          intervalId = null;
        }
      }

      function closePopup() {
        popup.style.display = "none";
        popup.setAttribute("aria-hidden", "true");

        // If it has shown exactly once, schedule ONE more after another 3 min total time
        const count = getNum(KEY_COUNT, 0);
        if (count === 1) {
          setNum(KEY_TARGET, currentTotalMs() + STEP_MS);
        }
      }

      function maybeShowPopup() {
        if (sessionStorage.getItem(KEY_DISABLED) === "true") return;

        const count = getNum(KEY_COUNT, 0);
        if (count >= 2) return;

        const target = getNum(KEY_TARGET, STEP_MS);
        if (currentTotalMs() >= target) {
          openPopup();
        }
      }

      // Check once per second
      intervalId = setInterval(maybeShowPopup, 1000);

      // Add this page's time into total when leaving the page
      window.addEventListener("beforeunload", () => {
        const totalBefore = getNum(KEY_TOTAL, 0);
        const onThisPage = Date.now() - pageStart;
        setNum(KEY_TOTAL, totalBefore + onThisPage);
      });

      // Close actions
      closeBtn.addEventListener("click", closePopup);

      popup.addEventListener("click", (e) => {
        if (e.target === popup) closePopup();
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closePopup();
      });

      // Book Now disables all future popups (also stops the 2nd one)
      bookNowBtn.addEventListener("click", () => {
        sessionStorage.setItem(KEY_DISABLED, "true");
        if (intervalId) clearInterval(intervalId);
      });

      // Run immediately in case they've already accumulated time
      maybeShowPopup();
    }
  }
</script>

</body>

</html>